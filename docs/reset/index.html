<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reset Au Jour Le Jour</title>
    <style>
      body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, sans-serif; background: #f6f7f9; color: #0f172a; display: grid; place-items: center; min-height: 100vh; margin: 0; }
      .card { background: white; padding: 24px; border-radius: 12px; box-shadow: 0 6px 18px rgba(15,23,42,0.08); max-width: 420px; text-align: center; }
      button { margin-top: 16px; padding: 10px 16px; border-radius: 8px; border: none; background: #0f172a; color: white; cursor: pointer; }
      .meta { color: #475569; font-size: 13px; margin-top: 8px; }
    </style>
  </head>
  <body>
    <div class="card">
      <h1>Reset local data</h1>
      <p>This clears local storage for the web app.</p>
      <button id="reset-btn">Reset now</button>
      <div id="status" class="meta"></div>
    </div>
    <script>
      async function reset() {
        const status = document.getElementById('status');
        status.textContent = 'Clearing local data...';
        try {
          localStorage.removeItem('AJL_WEB_DB_V1');
          localStorage.removeItem('AJL_WEB_META_V1');
        } catch (err) {
          // ignore
        }
        status.textContent = 'Done. Redirecting...';
        setTimeout(() => location.replace('/'), 250);
      }
      document.getElementById('reset-btn').addEventListener('click', reset);
    </script>
  </body>
</html>
